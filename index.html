<!DOCTYPE html>
<html>

<head>
    <title>WebGL Model Viewer</title>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
    <link rel="shortcut icon" href="favicon.ico">

    <link rel='stylesheet' href='css/spectrum.css' />

    <script src="js/three.js"></script>
    <script src="js/MTLLoader.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/DDSLoader.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/THREEx.FullScreen.js"></script>
    <script src="js/jquery.nicescroll.js"></script>
    <script src="js/spectrum.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

    <link rel='stylesheet' href='css/main_style.css' />

    <script>
        $(function () {
            $("#red, #green, #blue, #ambient_red, #ambient_green, #ambient_blue").slider({
                orientation: "horizontal",
                range: "min",
                max: 255,
                value: 127  //Default value, Light colour of model set to median value (grey colour)
            });
        });
    </script>

    <script id="vertexShader" type="x-shader/x-vertex">
        uniform float p;
        varying float intensity;
        void main()
        {
           vec3 vNormal = normalize( normalMatrix * normal );
           intensity = pow(1.0 - abs(dot(vNormal, vec3(0, 0, 1))), p);
           gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
    </script>

    <script id="fragmentShader" type="x-shader/x-vertex">
        uniform vec3 glowColor;
        varying float intensity;
        void main()
        {
           vec3 glow = glowColor * intensity;
           gl_FragColor = vec4( glow, 1.0 );
        }
    </script>
</head>

<body>

    <div id="container">
        <div id="stats"></div>

        <!--Side Menu Start-->
        <div class="side_menu">
            <ul class="menu_item">

                <li id="header">
                    <table style="width:100%">
                        <tr>
                            <th style="font-size: 15px;">Viewer Options</th>
                            <th style="font-size: 11px;"><button id="lightSkin">Light</button></th>
                            <th style="font-size: 11px;"><button id="darkSkin">Dark</button></th>
                        </tr>
                    </table>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/ambient_icon.png" class="image" />Ambient Light</a>
                    <ul>
                        <li><span>Ambient Light</span></li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="ambient_light">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li><span style="font-size: 12px">R</span></li>
                        <li><div id="ambient_red"></div></li>
                        <li><span style="font-size: 12px">G</span></li>
                        <li><div id="ambient_green"></div></li>
                        <li><span style="font-size: 12px">B</span></li>
                        <li><div id="ambient_blue"></div></li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#' id="dir_click"><img src="images/dir_light_icon.png" class="image" />Directional Light Colour</a>
                    <ul>
                        <li><span style="font-size: 12px">R</span></li>
                        <li><div id="red"></div></li>
                        <li><span style="font-size: 12px">G</span></li>
                        <li><div id="green"></div></li>
                        <li><span style="font-size: 12px">B</span></li>
                        <li><div id="blue"></div></li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/wireframe_cube.png" class="image" />Wireframe View</a>
                    <ul>
                        <li><span>Wireframe</span></li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="wire_check">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li><span>Model + Wireframe</span></li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="model_wire">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/phong_icon.png" class="image" />Phong Shading</a>
                    <ul>
                        <li> <span>Phong Shading </span></li>

                        <li>
                            <label class="switch">
                                <input type="checkbox" id="phong_check">
                                <span class="toggle round"></span>
                            </label>
                        </li>

                        <li><span style="font-size: 12px">Shininess</span></li>
                        <li><div id="shine"></div></li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/XRay.png" class="image" />X-Ray Shading</a>
                    <ul>
                        <li> <span>X-Ray </span></li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="xray_check">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/glow_icon.png" width="32" height="32" class="image" />Glow Shader</a>
                    <ul>
                        <li> <span>Glow</span></li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="glow_check">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li> <span>Set Glow Colour</span></li>
                        <li><input type='text' class="glow_select" /></li>
                        <li><em id='basic-log'></em></li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/colour_pick.png" class="image" />Set Background</a>
                    <ul>
                        <li> <span>Set Background Colour</span></li>
                        <li><input type='text' class="bg_select" /></li>
                        <li><em id='basic_log'></em></li>
                        <li>Set Background Image</li>
                        <li><input type="file" id="bg_tex" accept="image/*" /></li>
                        <li><button type="button" id="remove_bg">Remove Background</button></li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/folder_icon.png" class="image" />Select .obj File</a>
                    <ul>
                        <li>.obj File</li>
                        <li><input type="file" id="obj_file" /></li>
                        <li>.mtl File</li>
                        <li><input type="file" id="mtl_file" /></li>
                        <li>Remove File</li>
                        <li><button type="button" id="remove">Remove file</button></li>
                        <li>Image Files</li>
                        <li><input type="file" id="images" multiple="multiple" accept="image/*" /></li>
                        <li><output id="result" /></li>
                    </ul>
                </li>
            </ul>

            <div id="disp_tmp_path"></div>
        </div>
        <!--Side Menu End-->

        <!--Bottom Menu Start-->
        <div id="bottom_menu">
            <ul class="bottom_menu_item">
                <li class='dropdown'>
                    <a href='#'><img src="images/rotation.png" class="image" />Model Rotation</a>
                    <ul>
                        <li style="display:inline-block;  margin:0 35px 0 0;"><span>Apply Rotation </span></li>
                        <li style="display:inline-block">
                            <span>Set Rotation Speed</span>
                            <span id="rot_slider"></span>
                        </li>
                        <li>
                            <label class="switch">
                                <input type="checkbox" id="rotation">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li>Fix Rotation of Imported Models</li>
                        <li style="display:inline-block;">
                            <button class="rotateButton" id="Rotate_X">Rotate X</button>
                            <button class="rotateButton" id="Rotate_Y">Rotate Y</button>
                            <button class="rotateButton" id="Rotate_Z">Rotate Z</button>
                        </li>

                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/scale.png" class="image" />Scale Model</a>
                    <ul>
                        <li style="text-align:center; font-size: 15px">
                            <span>Scale Up:</span> &nbsp;<button id="scale_up" style="margin:0 35px 0 0" type="button">+</button>
                            <span>Scale Down:</span> &nbsp;<button id="scale_down" type="button">-</button>
                        </li>
                    </ul>
                </li>

                <li class='dropdown'>
                    <a href='#'><img src="images/grid.png" class="image" />Model View Helpers</a>
                    <ul style="font-size: 13.5px">
                        <li style="display:inline-block; margin:0 25px 0 0;">
                            <span>Grid</span>
                            <label class="switch">
                                <input type="checkbox" id="grid">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li style="display:inline-block; margin:0 25px 0 0;">
                            <span>Polar Grid</span>
                            <label class="switch">
                                <input type="checkbox" id="polar_grid">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li style="display:inline-block; margin:0 25px 0 0;">
                            <span>Axis</span>
                            <label class="switch">
                                <input type="checkbox" id="axis">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                        <li style="display:inline-block; margin:0 25px 0 0;">
                            <span>Model Box</span>
                            <label class="switch">
                                <input type="checkbox" id="bBox">
                                <span class="toggle round"></span>
                            </label>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!--Bottom Menu End-->

        <div id="main_viewer"></div>

        <div id="fullscreen">
            <button id="fullscreenBtn" title="Fullscreen Mode" style="border: 0; float:right; background: transparent">
                <img src="images/fullscreen.png" width="32" height="32" alt="fullscreen" />
            </button>
        </div>

        <div id="sampleMods">
            Sample Models
            <br />
            <select id="scenes_list" onchange="selectModel();" ondblclick="selectModel();">
                <option>Crash Model (165 KB)</option>
                <option>Bear Model (113 KB)</option>
                <option>Car Model (1.33 MB)</option>
                <option>Tiger Model (3.77 MB)</option>
                <option>Dinosaur Model (5.07 MB)</option>
                <option>Skeleton Model (5.52 MB)</option>
            </select>
        </div>

        <script src="js/menu.js"></script>
        <script src="js/options.js"></script>
        <script src="js/main.js"></script>
        <script src="js/userModel.js"></script>
    </div>

    <script src="js/ColourTheme.js"></script>

    <script>
        $(document).ready(function () {
            $("html").niceScroll({ styler: "fb", cursorcolor: "#000" });
            $("#stats").niceScroll();
        });
    </script>

</body>
</html>
